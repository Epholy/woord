(function(t){function e(e){for(var a,o,s=e[0],r=e[1],l=e[2],u=0,v=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&v.push(n[o][0]),n[o]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);d&&d(e);while(v.length)v.shift()();return c.push.apply(c,l||[]),i()}function i(){for(var t,e=0;e<c.length;e++){for(var i=c[e],a=!0,s=1;s<i.length;s++){var r=i[s];0!==n[r]&&(a=!1)}a&&(c.splice(e--,1),t=o(o.s=i[0]))}return t}var a={},n={index:0},c=[];function o(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=a,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(i,a,function(e){return t[e]}.bind(null,a));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var d=r;c.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"56d7":function(t,e,i){"use strict";i.r(e);var a=i("8bbf"),n=i.n(a),c=function(){var t=this,e=t._self._c;return e("v-app",[t.guide?e("v-navigation-drawer",{attrs:{app:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[e("v-list",{attrs:{nav:""}},[e("v-list-item",[e("v-list-item-content",[e("v-list-item-title",{staticClass:"title",staticStyle:{"line-height":"32px"}},[t._v(" 选择词库 ")])],1)],1),e("v-divider"),e("v-chip-group",{attrs:{column:"",mandatory:"","active-class":"primary--text"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.types,(function(i){return e("v-chip",{key:i.val,attrs:{value:i.val,filter:"",outlined:""}},[t._v(" "+t._s(i.desc)+" ")])})),1),t._l(t.guide.path[t.type],(function(i,a){return e("v-list-group",{key:a,attrs:{"no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[e("v-list-item-title",[t._v(" "+t._s(i[0].title.substr(0,3))+" ")])]},proxy:!0}],null,!0)},[e("v-list-item-group",{attrs:{mandatory:""},model:{value:t.source,callback:function(e){t.source=e},expression:"source"}},t._l(i,(function(i,a){return e("v-list-item",{key:a,staticClass:"pl-6",attrs:{value:i.name},on:{click:function(e){t.changeLexicon(i.url),t.drawer=!t.drawer}}},[e("v-list-item-content",[e("v-list-item-title",[t._v(" "+t._s(i.title)+" ")])],1)],1)})),1)],1)}))],2)],1):t._e(),e("v-main",[e("v-container",{staticStyle:{height:"100%"}},[e("v-row",{staticStyle:{height:"100%"},attrs:{justify:"center",align:"center"}},[e("v-col",{attrs:{cols:"10",sm:"7",md:"6",lg:"4"}},[e("v-card",{staticClass:"rounded-xl d-flex flex-column elevation-8",staticStyle:{height:"500px","background-color":"#e8f5e9cf","backdrop-filter":"blur(25px)"}},[e("v-tabs-items",{staticStyle:{"background-color":"transparent"},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}},t._l(["lexicon","collection"],(function(i,a){return e("v-tab-item",{key:a,attrs:{value:i}},[t.activeData.deck.length?e("v-card-text",{staticClass:"text-center"},[e("v-list-item-group",{attrs:{"active-class":"teal--text text--darken-4"},model:{value:t.pinned,callback:function(e){t.pinned=e},expression:"pinned"}},[e("v-list-item",{staticClass:"mt-16 mb-1 py-3 pl-10 justify-center align-end",attrs:{value:"kanji"}},[e("v-list-item-icon",{directives:[{name:"show",rawName:"v-show",value:"kanji"==t.pinned,expression:"pinned == 'kanji'"}],staticClass:"my-0 ml-2",staticStyle:{position:"absolute",left:"0",top:"0",height:"100%"}},[e("v-icon",[t._v("mdi-lock-outline")])],1),e("p",{staticClass:"text-h3 jp-serif ma-0",style:{opacity:t.activeData.kanjiOpacity}},[t._v(" "+t._s(t.currentWord.kanji)+" ")])],1),e("v-list-item",{staticClass:"py-2 pl-7 justify-center",attrs:{value:"kana"}},[e("v-list-item-icon",{directives:[{name:"show",rawName:"v-show",value:"kana"==t.pinned,expression:"pinned == 'kana'"}],staticClass:"my-0 ml-2",staticStyle:{position:"absolute",left:"0",top:"0",height:"100%"}},[e("v-icon",[t._v("mdi-lock-outline")])],1),e("p",{staticClass:"text-h5 text--primary sc-serif ma-0",style:{opacity:t.activeData.kanaOpacity}},[t._v(" "+t._s(t.currentWord.kana)+" ")])],1)],1)],1):t._e()],1)})),1),t.activeData.deck.length?e("v-card-subtitle",{staticClass:"text-center mt-auto mb-2"},[e("span",{staticClass:"indicator"},[t._v(" "+t._s(t.activeData.index+1+"/"+t.activeData.deck.length)+" ")])]):t._e(),e("v-card-actions",{staticClass:"mb-4 mt-auto",staticStyle:{width:"100%"}},[t.uncollected?e("v-btn",{attrs:{disabled:!t.activeData.deck.length,color:"success",icon:"",xLarge:"",absolute:"",right:"",top:""},on:{click:t.collect}},[e("v-icon",[t._v("mdi-bookmark-plus-outline")])],1):e("v-btn",{attrs:{disabled:!t.activeData.deck.length,color:"error",icon:"",xLarge:"",absolute:"",right:"",top:""},on:{click:t.remove}},[e("v-icon",[t._v("mdi-bookmark-minus-outline")])],1),e("v-row",[e("v-col",{staticClass:"d-flex",attrs:{cols:"12",md:"7"}},[e("v-btn",{staticClass:"flex-grow-1 mx-2",attrs:{disabled:!t.activeData.deck.length,color:"success",rounded:"",xLarge:""},on:{click:t.showAnswer}},[t._v(" 显示答案 ")])],1),e("v-col",{staticClass:"d-flex justify-end",attrs:{cols:"12",md:"5"}},[e("v-btn",{staticClass:"flex-grow-1",attrs:{disabled:t.min,color:"green darken-3",text:"",xLarge:""},on:{click:t.previous}},[e("v-icon",[t._v("mdi-chevron-left")])],1),e("v-btn",{staticClass:"flex-grow-1",attrs:{disabled:!t.activeData.deck.length,color:"green darken-3",text:"",xLarge:""},on:{click:t.next}},[e("v-icon",[t._v("mdi-chevron-right")])],1)],1)],1)],1)],1)],1)],1)],1)],1),e("v-bottom-navigation",{staticClass:"elevation-0",staticStyle:{"background-color":"#e3f2fdcc","backdrop-filter":"blur(25px)"},attrs:{app:"",color:"teal darken-3",grow:"",shift:""},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}},[e("v-btn",{attrs:{value:"lexicon"}},[e("span",[t._v("词库")]),e("v-icon",[t._v("mdi-book-multiple")])],1),e("v-btn",{attrs:{value:"collection"},on:{click:function(e){t.uncollected=!1}}},[e("span",[t._v("收藏")]),e("v-icon",[t._v("mdi-bookmark")])],1)],1),e("v-btn",{staticClass:"orange lighten-1",attrs:{fixed:"",fab:"",top:"",left:"",dark:""},on:{click:function(e){t.drawer=!0}}},[e("v-icon",[t._v("mdi-menu")])],1)],1)},o=[],s=(i("14d9"),i("c223")),r=i.n(s);let l=r.a.createInstance({name:"Woord",storeName:"G3-S2-F"});var d={name:"App",data:()=>({drawer:!1,lexicon:{deck:[],index:0,kanjiOpacity:1,kanaOpacity:0},collection:{deck:[],index:0,kanjiOpacity:1,kanaOpacity:0},type:"",types:[{val:"k",desc:"漢語"},{val:"g",desc:"外来語"}],guide:null,source:"",mode:"",uncollected:!0,pinned:""}),beforeCreate(){fetch("assets/lexicon/guide.json").then(t=>t.json()).then(t=>this.guide=t)},created(){this.type="k",this.source="G3-S2-F-k",this.mode="lexicon",this.init(`assets/lexicon/${this.source.substr(0,2)}/${this.source}.json`)},methods:{init(t){fetch(t).then(t=>t.json()).then(t=>{this.lexicon.deck=this.shuffle__(t),this.lexicon.index=0,this.currentWord=this.lexicon.deck[0]})},shuffle__(t){let e=t.length;for(let i=0;i<e-1;i++){let a=Math.floor(Math.random()*(e-i));[t[a],t[e-i-1]]=[t[e-i-1],t[a]]}return t},showAnswer(){this.activeData.kanjiOpacity=this.activeData.kanaOpacity=1},updateCurrentWord__(t){this.activeData.kanjiOpacity=this.activeData.kanaOpacity=0,setTimeout(()=>{0==t?this.activeData.index=0:this.activeData.index+=t,this.pinned?this.activeData[this.pinned+"Opacity"]=1:(this.activeData.kanjiOpacity=Math.floor(2*Math.random()),this.activeData.kanaOpacity=1-this.activeData.kanjiOpacity)},200)},previous(){this.activeData.index>0&&this.updateCurrentWord__(-1)},next(){this.activeData.index<this.activeData.deck.length-1?this.updateCurrentWord__(1):(this.shuffle__(this.activeData.deck),this.updateCurrentWord__(0))},changeLexicon(t){this.init(t)},collect(){l.setItem(this.currentWord.id,this.currentWord).then(t=>{this.collection.deck.push(t),1==this.collection.deck.length&&(this.currentWord=this.collection.deck[0]),this.uncollected=!1})},remove(){l.removeItem(this.currentWord.id).then(()=>{const t=this.collection.deck.findIndex(t=>t.id==this.currentWord.id);this.collection.deck.splice(t,1),"lexicon"==this.mode?this.uncollected=!0:(this.collection.index==this.collection.deck.length&&0!=this.collection.index&&--this.collection.index,this.currentWord=this.collection.deck[this.collection.index])})}},computed:{activeData(){return this[this.mode]},min(){return 0==this.activeData.index},keys(){return this.collection.deck.map(t=>t.id)},currentWord(){return this.activeData.deck[this.activeData.index]},observer(){return[this.mode,this.lexicon.index,this.collection.index]}},watch:{source(t,e){t.substr(0,7)!==(null===e||void 0===e?void 0:e.substr(0,7))&&(l=r.a.createInstance({name:"Woord",storeName:t.substr(0,7)}),this.collection.deck=[],l.iterate(t=>{this.collection.deck.push(t)}).then(()=>{this.collection.index=0,this.currentWord=this.collection.deck[0]}))},observer(){var t;this.uncollected=!this.keys.includes(null===(t=this.currentWord)||void 0===t?void 0:t.id)}}},u=d,v=(i("c2c7"),i("2877")),h=Object(v["a"])(u,c,o,!1,null,"041801aa",null),p=h.exports,f=i("a2c9"),m=i.n(f),k=i("f531");n.a.use(m.a);var x=new m.a({lang:{locales:{zhHans:k["a"]},current:"zhHans"}});n.a.config.productionTip=!1,new n.a({vuetify:x,render:t=>t(p)}).$mount("#app")},"8bbf":function(t,e){t.exports=Vue},a2c9:function(t,e){t.exports=Vuetify},a981:function(t,e,i){},c223:function(t,e){t.exports=localforage},c2c7:function(t,e,i){"use strict";i("a981")}});